<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>从零开始的ArchLinux系统安装记录（一）</title>
      <link href="2021/0421718.html"/>
      <url>2021/0421718.html</url>
      
        <content type="html"><![CDATA[<h1 id="简短的介绍"><a href="#简短的介绍" class="headerlink" title="简短的介绍"></a>简短的介绍</h1><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>ArchLinux系统是一个开源的linux发行版， 相比于其它linux发行版来说arch最大的优点就在于它总能保持最新版本（滚动更新），非常简洁，并且借助于强大的软件仓库AUR，arch的软件可以获取的很方便。</p><h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><p>Arch的安装可以说是直接劝退一部分人了，因为它的安装界面是只有命令行的，因为这点它也被成为“地狱难度”的系统安装过程。</p><p>Arch是滚动更新的就意味着它必须要经常更新系统，最好是每天都检查更新，要是长时间不更新再进行更新的话就容易出现“滚挂“的情况。</p><h3 id="让我们开始“地狱”的愉快旅程吧！"><a href="#让我们开始“地狱”的愉快旅程吧！" class="headerlink" title="让我们开始“地狱”的愉快旅程吧！"></a>让我们开始“地狱”的愉快旅程吧！</h3><h2 id="Arch的镜像下载"><a href="#Arch的镜像下载" class="headerlink" title="Arch的镜像下载"></a>Arch的镜像下载</h2><p>在Archwiki上有各国的镜像源下载，这是Archwiki的**<a href="https://archlinux.org/download/">官方地址</a>** 找到China的镜像源地址</p><p>  <img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210420232245.png"></p><p>可以随意选择镜像源下载，点击后是这样的</p><p>  <img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210420231524.png"></p><p>选择 <font color="#66CCFF"> <a href="http://mirrors.163.com/archlinux/iso/2021.04.01/archlinux-2021.04.01-x86_64.iso">archlinux-2021.04.01-x86_64.iso    750M</a> </font> 进行下载</p><p>等待下载完成后就开始准备制作USB启动盘了，首先要准备好一个至少8G大小的U盘。</p><h2 id="制作USB启动盘"><a href="#制作USB启动盘" class="headerlink" title="制作USB启动盘"></a>制作USB启动盘</h2><h3 id="首先下载制作启动盘的工具"><a href="#首先下载制作启动盘的工具" class="headerlink" title="首先下载制作启动盘的工具"></a>首先下载制作启动盘的工具</h3><p>这里我推荐Rufus这个工具，它可以快速的制作启动盘而且不会浪费U盘剩下的空间非常好用</p><ul><li><a href="https://rufus.ie/zh/">下载地址</a></li></ul><ol><li><p>插入U盘后选择所要制作启动盘的U盘</p></li><li><p>选择刚才下载的镜像文件</p></li><li><p>选择分区类型（重要！）首先要判断电脑的引导类型。Win10下按Windows键+R键在运行中输入 msinfo32 按下回车</p></li></ol><p>  <img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210420235631.png"></p><p>在弹出的窗口右侧找到BISO模式即可查看引导模式</p><p>  <img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210420235735.png"></p><p>选好分区之后就可以点击开始了（注意要保存U盘上的文件）</p><p>  <img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421000335.png"></p><p>若是出现此窗口选择第一个就可以了</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421000638.png"></p><p>写入成功之后U盘上的文件是这个样子的</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421000923.png"></p><p>自此我们的启动盘制作就成功啦！接下来就要在windows里对硬盘进行分区，简化之后安装系统的步骤。</p><h2 id="在Windows中进行磁盘分区"><a href="#在Windows中进行磁盘分区" class="headerlink" title="在Windows中进行磁盘分区"></a>在Windows中进行磁盘分区</h2><p>需要的软件是DiskGenius，可以点击 <a href="https://www.diskgenius.cn/download.php">这里下载</a> </p><p>下载打开后在左边选择你想要进行分区的物理盘</p><p>再在你想要进行分区的磁盘上（上方的那些蓝色方块）右键 建立新分区，尽量不要选择系统盘</p><p>拖动磁盘成你想要的大小（建议30G以上如果你是笔记本的话建议60G或者更多，后面交换分区会很大） 再在下方选择<strong>保持空闲</strong>然后点击开始分区</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421002203.png"></p><p>成功分区后，会在上方端出来一块灰色的磁盘，这个就是我们待会儿需要安装arch的盘（如图），记住它物理盘的位置，我只有两个物理盘，一个256G固态，一个1T机械。我的这个分区是在256固态上。</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421003425.png"></p><p>这样我们在Windows上做的操作就完成了，接下来就是在arch的镜像中用命令行安装系统了。</p><h2 id="使用U盘启动arch安装镜像"><a href="#使用U盘启动arch安装镜像" class="headerlink" title="使用U盘启动arch安装镜像"></a>使用U盘启动arch安装镜像</h2><p>首先要关机插入U盘，在启动的时候按相应的键进入主板设置。不同电脑有不同进入主板设置的方法，常见的有F10，F8，F12，Del键或者F2键。最好在网上查询好你电脑品牌进入主板设置的按键。</p><p>如图所示，在boot设置里的boot option按+键把U盘挪到第一个然后保存退出，重启</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/IMG_20210421_134746.jpg"></p><p>重新开机之后电脑会自动启动U盘上的镜像安装文件，需要你选择要进入的模式，大致是这个样子，选择第一个，选中之后就进入安装界面啦！</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421131835.png"></p><h2 id="安装Arch"><a href="#安装Arch" class="headerlink" title="安装Arch"></a>安装Arch</h2><p>选择第一个后自动进入U盘上的安装镜像，会弹出一串类似于这样的命令行</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421140045.png"></p><p>这个时候不要惊慌，稍等一下，等到它出现这个有小牛界面的时候就是真正的安装界面啦</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421140053.png"></p><h2 id="第一步就是连接上网络。"><a href="#第一步就是连接上网络。" class="headerlink" title="第一步就是连接上网络。"></a>第一步就是连接上网络。</h2><p>如果你是有线网，插的网线的话，使用以下命令连接网络</p><pre class=" language-bash"><code class="language-bash">dhcpcd</code></pre><p>输入以下命令查询是否、连接成功</p><pre class=" language-bash"><code class="language-bash"><span class="token function">ping</span> www.baidu.com</code></pre><p>若出现连通的反馈则说明成功连接上网络，如图</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421142839.png"></p><p>接着按 <strong>Ctrl+C</strong> 终止命令，在linux系统中这个是通用的快捷键</p><p>如果你是无线网，则使用以下命令连接网络</p><p>这个命令是打开网络连接的程序</p><pre class=" language-bash"><code class="language-bash">iwctl</code></pre><p>接着输入</p><pre class=" language-bash"><code class="language-bash">device list</code></pre><p>这个是检查可用的无线连接设备，在Name的下边一般会是wlan0</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421143459.png"></p><p>以你电脑上出现的名称为准，接着输入</p><pre class=" language-bash"><code class="language-bash">station wlan0 scan</code></pre><p>这步是扫描wlan0中的无线网络，但不会显示出来，要想显示出来的话再接着输入</p><pre class=" language-bash"><code class="language-bash">station wlan0 get-networks</code></pre><p>会出现和下图差不多的界面，Network name 下面的就是你周围WiFi的名字</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/QQ%E6%88%AA%E5%9B%BE20210421144723.png"></p><p>接着输入命令连接WiFi，注意是你电脑上显示的WiFi名称</p><pre class=" language-bash"><code class="language-bash">station wlan0 connect TPlink_777</code></pre><p>如果WiFi有密码的话会提示你输入密码，输入后连接成功后可以用</p><pre class=" language-bash"><code class="language-bash"><span class="token function">ping</span> www.baidu.com</code></pre><p>测试网络情况，和上面一样</p><ul><li>注意要是校园网的话，先用手机连上校园网登录校园网，再用手机开热点，然后电脑再进行连接，arch自带的网络连接是不支持直接连接校园网的。</li></ul><p>网络连接成功后用以下命令同步时区。</p><pre class=" language-bash"><code class="language-bash">timedatactl set-ntp <span class="token boolean">true</span></code></pre><h2 id="第二步是磁盘分区"><a href="#第二步是磁盘分区" class="headerlink" title="第二步是磁盘分区"></a>第二步是磁盘分区</h2><ul><li>这部分或许是整个安装中最难的部分，不过我们前面已经在windows上做好了空闲分区，在这步会省下很多步骤。</li><li>BIOS引导的系统可以跳过关于boot分区的操作</li></ul><p>先使用以下命令来进行查看磁盘信息</p><pre class=" language-bash"><code class="language-bash">lsblk</code></pre><p>输入后会出现如图所示的界面</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421150954.png"></p><ul><li>注意，因为我这里的这个是虚拟机，所以只有这么几个。你的盘应该更多。</li></ul><p>然后输入命令打开你之前空闲分区所在的磁盘，我这边的名字是sda。你电脑上可能会有sda1，sda2，sda3….不要打开那些，那些是在物理盘上的分区，打开后面没有数字的磁盘</p><pre class=" language-bash"><code class="language-bash">cgdisk /dev/sda</code></pre><p> 接着出现如图所示的界面，在Partition Type 下找到free space就是你要用来装arch的盘。<br><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421151632.png"></p><p>按↑或↓键选中free space的磁盘后，按←或→键选中New然后按回车键来新建分区。</p><p>按下回车后应该是这个界面，这步我们选默认，直接再按回车就行</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421152246.png"></p><p>接着会出现以下让你选择新建分区大小的提示，我们第一个先建立boot分区，也就是开机引导分区，官方给出的建议是256M，根据你自己的情况选择，我这边选择512M，你也可以输入1、G来建立1GB的引导分区。</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421152458.png"></p><p>输入完大小后按下回车，会再次出现提示，这个提示是让你输入分区的代码，boot分区的代码是</p><pre><code>ef00</code></pre><p>按下回车</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421153344.png"></p><p>接下来的提示是输入分区的名称，输入boot</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421153521.png"></p><p>接着在上面就会出现512MB的efi引导分区和1Kb的缓存空闲分区</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421153610.png"></p><p>我们再选中那个大的空闲分区，再选中new新建分区，这次我们要新建swap交换分区。</p><p>和上面一样，第一步选默认直接按回车</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421154353.png"></p><p>Swap分区的大小是根据你计算机内存来算的，如图，左边是你计算机内存的大小，中间是无休眠的交换分区建议大小，右边是有休眠的交换分区建议大小。有休眠是对笔记本来说的。</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421155045.png"></p><p>我这边虽然是16G笔记本但我因为空间不够也只选了5G大小的交换分区，可以按自己的需求来选</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421155535.png"></p><p>接着就是输入交换分区的代码，代码是</p><pre><code>8200</code></pre><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421155731.png"></p><p>输入名称填入swap，回车后在上面出现了新的swap分区就代表成功了</p><p>接着是新建root分区</p><p>选中大的空闲分区，再选中new，第一个提示依然是默认直接敲回车。</p><p>第二个提示按你自己的需求写入大小，我这边写入15G</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421160501.png"></p><p>第三个提示写入分区类型，这次这里按默认就行，不填直接按回车</p><p>第四个提示写入分区名称，填入root</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421160718.png"></p><p>按回车后就生成了root分区，如图</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421160850.png"></p><p>最后是home，也就是用户分区</p><p>选中大的空闲分区，再选中new，第一个提示依然是默认直接敲回车。</p><p>第二个提示直接按回车</p><p>第三个提示也直接按回车</p><p>第四个提示输入名称home，回车后如图</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421161121.png"></p><p>注意！此时这只是建立好了分区表，还没有保存到磁盘上，所以接下来要按←或→键选中Write，如图</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421161306.png"></p><p>选中Write后按回车，输入yes，按回车会提示成功写入，这才算是建立好了分区。</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421161456.png"></p><h2 id="第三部分区格式化及挂载"><a href="#第三部分区格式化及挂载" class="headerlink" title="第三部分区格式化及挂载"></a>第三部分区格式化及挂载</h2><p>刚才我们只是建立好了分区，还没对它们进行任何操作。现在我们输入以下命令来查看刚刚建立的分区</p><pre class=" language-bash"><code class="language-bash">lsblk</code></pre><p>会有类似下图的界面，可以发现，比之前多了四个小的分区。</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421161912.png"></p><p>可以发现sda1是boot分区，sda2是swap交换分区，sda3是root分区，sda4是home分区。以你电脑上的磁盘编号为准。这就代表我们之前的操作成功了。但现在电脑只知道它们是及各分区而已，还不知道它们是干什么的，所以接下来要对它们进行格式化和挂载。</p><h3 id="格式化分区"><a href="#格式化分区" class="headerlink" title="格式化分区"></a>格式化分区</h3><p>格式化boot分区输入以下命令（boot分区磁盘标号以你电脑上的为准）</p><pre class=" language-bash"><code class="language-bash">mkfs.fat -F32 /dev/sda1</code></pre><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421163017.png"></p><p>格式化swap分区输入以下命令（boot分区磁盘标号以你电脑上的为准）</p><pre class=" language-bash"><code class="language-bash">mkswap /dev/sda2</code></pre><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421163047.png"></p><p>启用swap分区（swap分区磁盘标号以你电脑上的为准）此步骤相当于挂载了交换分区，所以后面就不用怪哉交换分区了</p><pre class=" language-bash"><code class="language-bash">swapon /dev/sda2</code></pre><p>格式化root分区（root分区磁盘标号以你电脑上的为准）</p><pre class=" language-bash"><code class="language-bash">mkfs.ext4 /dev/sda3</code></pre><p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210421163142220.png" alt="image-20210421163142220"></p><p>格式化home分区（home分区磁盘标号以你电脑上的为准）</p><pre class=" language-bash"><code class="language-bash">mkfs.ext4 /dev/sda4</code></pre><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421163202.png"></p><p>出现类似于上面图的就说明成功格式化，接下来进行挂载分区</p><h3 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h3><p>挂载boot分区</p><pre class=" language-bash"><code class="language-bash"><span class="token function">mkdir</span> /mnt/boot</code></pre><pre class=" language-bash"><code class="language-bash"><span class="token function">mount</span> /dev/sda1 /mnt/boot</code></pre><p>挂载root分区</p><pre class=" language-bash"><code class="language-bash"><span class="token function">mount</span> /dev/sda3 /mnt/</code></pre><p>挂载home分区</p><pre class=" language-bash"><code class="language-bash"><span class="token function">mkdir</span>  /mnt/home</code></pre><pre class=" language-bash"><code class="language-bash"><span class="token function">mount</span> /dev/sda4 /mnt/home</code></pre><p>挂载完成后输入以下命令查看</p><pre class=" language-bash"><code class="language-bash">lsblk</code></pre><p>如图所示是就是成功挂载了所有分区</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421164020.png"></p><p>到这里最难的分区就成功了，接下来就是配置系统设置和安装应用。</p><h2 id="第四步设置Pacman服务器"><a href="#第四步设置Pacman服务器" class="headerlink" title="第四步设置Pacman服务器"></a>第四步设置Pacman服务器</h2><p>pacman是arch独特的包管理命令，非常方便，仅需一条命令就能下载和更新软件。但由于某些大人的因素，导致国内的下载软件速度很慢，所以要配置pacman的国内软件源。</p><p>现在输入以下命令打开pacman的配置文件</p><pre class=" language-bash"><code class="language-bash"><span class="token function">nano</span> /etc/pacman.d/mirrorlist</code></pre><ul><li>小提示，在输入/etc/后可以按TAB键来查看路径中的文件夹，并且还能补全所输入的名称。</li></ul><p>输入以上命令后是这个界面，这就是pacman的配置文件，接着把下面的都删除掉，改成国内的源，我选择的是中科大的源。清华大学的源，网易的源和阿里的源也都可以用。更改后的配置文件如图所示</p><ul><li>Ctrl+S保存，Ctrl+X退出<pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#zhongkeda</span>Server <span class="token operator">=</span> http://mirrors.ustc.edu.cn/archlinux/<span class="token variable">$repo</span>/os/<span class="token variable">$arch</span><span class="token comment" spellcheck="true">#qinghua</span>Server <span class="token operator">=</span> https://mirrors.tuna.tsinghua.edu.cn/archlinux/<span class="token variable">$repo</span>/os/<span class="token variable">$arch</span><span class="token comment" spellcheck="true">#163</span>Server <span class="token operator">=</span> http://mirrors.163.com/archlinux/<span class="token variable">$repo</span>/os/<span class="token variable">$arch</span><span class="token comment" spellcheck="true">#aliyun</span>Server <span class="token operator">=</span> http://mirrors.aliyun.com/archlinux/<span class="token variable">$repo</span>/os/<span class="token variable">$arch</span></code></pre><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421210226.png"><h2 id="第五步安装系统基本固件"><a href="#第五步安装系统基本固件" class="headerlink" title="第五步安装系统基本固件"></a>第五步安装系统基本固件</h2>输入以下命令进行系统固件的安装</li></ul><pre class=" language-bash"><code class="language-bash">pacstrap -i /mnt linux linux-headers linux-firmware base base-devel <span class="token function">nano</span> vim intel-ucode</code></pre><ul><li>注意如果你是amd用户把intel-ucode换成amd-ucode</li></ul><p>出现如图所示的提示直接按回车就行</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421171111.png"></p><p>出现如下提示，输0入Y，回车</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421171223.png"></p><p>然后等待下载完成，如图所示</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421171930.png"></p><h2 id="第六步进入系统"><a href="#第六步进入系统" class="headerlink" title="第六步进入系统"></a>第六步进入系统</h2><ul><li>刚才所做的一切操作都是在U盘上的镜像上做的，现在我们可以进入安装在磁盘上的系统了</li></ul><p>输入以下命令</p><pre class=" language-bash"><code class="language-bash">genfstab -U -p /mnt <span class="token operator">>></span> /mnt/etc/fstab</code></pre><pre class=" language-bash"><code class="language-bash"><span class="token function">cat</span> /mnt/etc/fstab</code></pre><p>若出现如图所示的界面，则说明命令成功运行</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421172809.png"></p><p>输入以下命令进入磁盘上安装的系统</p><pre class=" language-bash"><code class="language-bash">arch-chroot /mnt</code></pre><p>输入上述命令后就会进入磁盘上的操作系统，前面的东西由 root@archiso~变成了[root@archiso]，就代表了成功进入</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421173240.png"></p><p>接着输入以下命令刷新软件源</p><pre class=" language-bash"><code class="language-bash">pacman -Syy</code></pre><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421173903.png"></p><h2 id="第七步配置系统设置"><a href="#第七步配置系统设置" class="headerlink" title="第七步配置系统设置"></a>第七步配置系统设置</h2><h3 id="配置系统时区"><a href="#配置系统时区" class="headerlink" title="配置系统时区"></a>配置系统时区</h3><p>如果你在中国的话可以直接使用以下命令进行配置系统时区</p><pre class=" language-bash"><code class="language-bash"><span class="token function">ln</span> -s /user/share/zoneinfo/Asia/Shanghai <span class="token operator">></span> /etc/localtime</code></pre><p>如果你在国外，根据你所在的地方在 /user/share/zoninfo/ 中找你所在地区的时区</p><p>使用下面命令进行系统时钟校对</p><pre class=" language-bash"><code class="language-bash">hwclock --systohc</code></pre><h3 id="语言配置"><a href="#语言配置" class="headerlink" title="语言配置"></a>语言配置</h3><p>输入以下命令打开语言配置文件</p><pre class=" language-bash"><code class="language-bash"><span class="token function">nano</span> /etc/locale.gen</code></pre><p>找到en_US.UTF8 UTF8 和 zh_CN.UTF8 UTF8 删掉前面的#号，如图所示</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421174824.png"><br><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421174857.png"></p><p>Ctrl+S保存，Ctrl+X 退出</p><p>接下来输入以下命令在本地生成生成</p><pre class=" language-bash"><code class="language-bash">locale-gen</code></pre><p>若出现如图所示界面，则说明成功配置系统语言。</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421175255.png"></p><p>配置完成后接下来输入以下命令来应用</p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">echo</span> LANG<span class="token operator">=</span>en_US.UTF-8 <span class="token operator">></span> /etc/locale.conf</code></pre><pre class=" language-bash"><code class="language-bash"><span class="token function">export</span> LANG<span class="token operator">=</span>en_US.UTF-8</code></pre><h3 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h3><p>输入以下命令来打开系统配置文件</p><pre class=" language-bash"><code class="language-bash"><span class="token function">nano</span> /etc/hostname</code></pre><p>随意输入你想要的名字，如图</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421175933.png"></p><p>完成后Ctrl+S 保存，Ctrl+X退出</p><p>接着配置本地hosts文件，输入以下命令打开配置文件</p><pre class=" language-bash"><code class="language-bash"><span class="token function">nano</span> /etc/hosts</code></pre><p>在配置文件中输入以下内容，把名称换成你刚才自己起的名字就行</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421180352.png"></p><h3 id="添加用户，密码"><a href="#添加用户，密码" class="headerlink" title="添加用户，密码"></a>添加用户，密码</h3><p>输入以下命令给root用户添加密码</p><pre class=" language-bash"><code class="language-bash"><span class="token function">passwd</span></code></pre><p>回车后，如图，在linux中输入密码是不会显示的，所以确认输入无误后回车</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421180718.png"></p><p>接着添加普通权限用户，因为kde等图形操作界面是不能用root用户直接使用的</p><p>输入以下命令添加普通权限用户，后面的user1为自定义用户名，可以随意改成你喜欢的</p><pre class=" language-bash"><code class="language-bash"><span class="token function">useradd</span> -m -g <span class="token function">users</span> -G whell,storage,power -s /bin/bash user1</code></pre><p>接着输入以下命令给普通用户添加密码</p><pre class=" language-bash"><code class="language-bash"><span class="token function">passwd</span> user1</code></pre><p>完成后如下图</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421181215.png"></p><p>添加完成后输入以下命令修改用户权限配置文件</p><pre class=" language-bash"><code class="language-bash">EDITOR<span class="token operator">=</span>nano visudo</code></pre><p>直接到文件的最底下，修改第一个%wheel前的#号，然后在文件的最底下添加Defaults rootpw，完成后如图所示</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421181702.png"></p><p>完成后Ctrl+S 保存，Ctrl+X退出</p><h2 id="第八步安装系统启动器-Grub"><a href="#第八步安装系统启动器-Grub" class="headerlink" title="第八步安装系统启动器 Grub"></a>第八步安装系统启动器 Grub</h2><p>用pacman安装两个软件包</p><pre class=" language-bash"><code class="language-bash">pacman -S os-prober ntfs-3g</code></pre><h5 id="如果为EFI-GPT引导方式："><a href="#如果为EFI-GPT引导方式：" class="headerlink" title="如果为EFI/GPT引导方式："></a>如果为EFI/GPT引导方式：</h5><p>安装grub与efibootmgr两个包：</p><pre class=" language-bash"><code class="language-bash">pacman -S grub efibootmgr</code></pre><p>部署grub：</p><pre class=" language-bash"><code class="language-bash">grub-install --target<span class="token operator">=</span>x86_64-efi --efi-directory<span class="token operator">=</span>/boot --bootloader-id<span class="token operator">=</span>grub</code></pre><p>生成配置文件：</p><pre class=" language-bash"><code class="language-bash">grub-mkconfig -o /boot/grub/grub.cfg</code></pre><p>若出现以下界面则说明安装成功</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421182814.png"></p><h4 id="如果为BIOS-MBR引导方式："><a href="#如果为BIOS-MBR引导方式：" class="headerlink" title="如果为BIOS/MBR引导方式："></a>如果为BIOS/MBR引导方式：</h4><p>安装grub包：</p><p>pacman -S grub</p><p>部署grub：</p><pre class=" language-bash"><code class="language-bash">grub-install --target<span class="token operator">=</span>i386-pc /dev/sdx （将sdx换成你安装的硬盘）</code></pre><p>注意这里的sdx应该为硬盘（例如/dev/sda），而不是形如/dev/sda1这样的分区。</p><p>生成配置文件：</p><pre class=" language-bash"><code class="language-bash">grub-mkconfig -o /boot/grub/grub.cfg</code></pre><h5 id="安装后检查"><a href="#安装后检查" class="headerlink" title="安装后检查"></a>安装后检查</h5><pre class=" language-bash"><code class="language-bash"><span class="token function">nano</span> /boot/grub/grub.cfg</code></pre><p>如果能在这个配置文件中找到其他系统的入口则说明完成了启动引导的安装</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421183030.png"></p><h2 id="第九步安装网络部分"><a href="#第九步安装网络部分" class="headerlink" title="第九步安装网络部分"></a>第九步安装网络部分</h2><p>用以下命令安装网络相关的软件包</p><pre class=" language-bash"><code class="language-bash">pacman -S networkmanager network-manager-applet dialog wpa_supplicant dhcpcd</code></pre><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421183850.png"></p><p>接着用以下命令设置自动开启软件</p><pre class=" language-bash"><code class="language-bash">systemctl <span class="token function">enable</span> NetworkManager</code></pre><pre class=" language-bash"><code class="language-bash">systemctl <span class="token function">enable</span> dhcpca</code></pre><p>出现如图所示即为成功启用</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421184909.png"></p><h2 id="第十步安装其他系统应用"><a href="#第十步安装其他系统应用" class="headerlink" title="第十步安装其他系统应用"></a>第十步安装其他系统应用</h2><pre class=" language-bash"><code class="language-bash">pacman -S <span class="token function">mtools</span> dosfstools bluez bluez-utils cups xdg-utils xdg-user-dirs alsa-utils pulseaudio pulseaudio-bluetooth reflector openssh neofetch</code></pre><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>输入命令退出系统</p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">exit</span></code></pre><p>输入命令取消挂载</p><pre class=" language-bash"><code class="language-bash"><span class="token function">umount</span> -R /mnt</code></pre><p>输入命令重启电脑</p><pre class=" language-bash"><code class="language-bash"><span class="token function">reboot</span></code></pre><p><strong>重启电脑后输入用户名密码登录账号</strong><br>先输入账户，如果想用root账户登录就填root回车，再输入root账户的密码。</p><p>如果想用普通权限账户就输入普通权限账户的名称和密码，这里我先用root账户登录</p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421203035.png"></p><p><strong>登录成功</strong></p><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421203140.png"><br><strong>最后再输入一个命令代表你安装成功啦，是不是感觉很棒呢</strong></p><pre class=" language-bash"><code class="language-bash">neofetch</code></pre><p><img src="https://markdown-1304773198.cos.ap-guangzhou.myqcloud.com/20210421202606.png"></p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>这次就算是大功告成啦，但也就只是安装成功了，没有图形化的操作系统是很难用的，也很少有人这么用，所以如果有时间下次应该会出关于KDE图形化界面的记录教程。</p><p>如果喜欢的话希望能评个论捏，如果有问题也请多多在评论区说出来<del>，不想评论的话打钱也是可以的哦</del>，宅见ヾ(￣▽￣)Bye<del>Bye</del></p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2021/041816107.html"/>
      <url>2021/041816107.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
